<!DOCTYPE html>
<html>
<head>
    <title>Mini Shooting Game</title>
    <style>
        body {
            margin: 0;
            background: black;
            overflow: hidden;
            color: white;
            font-family: Arial;
        }

        #game {
            position: relative;
            width: 100vw;
            height: 100vh;
        }

        #player {
            position: absolute;
            bottom: 20px;
            left: 50%;
            width: 50px;
            height: 20px;
            background: cyan;
            transform: translateX(-50%);
        }

        .bullet {
            position: absolute;
            width: 5px;
            height: 15px;
            background: yellow;
        }

        .enemy {
            position: absolute;
            width: 40px;
            height: 40px;
            background: red;
            top: 0;
        }

        #info {
            position: absolute;
            top: 10px;
            left: 10px;
        }
    </style>
</head>
<body>

<div id="game">
    <div id="info">
        Score: <span id="score">0</span> |
        Lives: <span id="lives">3</span>
    </div>
    <div id="player"></div>
</div>

<script>
const game = document.getElementById("game");
const player = document.getElementById("player");
const scoreDisplay = document.getElementById("score");
const livesDisplay = document.getElementById("lives");

let score = 0;
let lives = 3;
let bullets = [];
let enemies = [];

let playerX = window.innerWidth / 2;

document.addEventListener("keydown", function(e) {
    if (e.key === "ArrowLeft") {
        playerX -= 20;
    }
    if (e.key === "ArrowRight") {
        playerX += 20;
    }
    if (e.key === " ") {
        shoot();
    }
    player.style.left = playerX + "px";
});

function shoot() {
    let bullet = document.createElement("div");
    bullet.classList.add("bullet");
    bullet.style.left = playerX + 22 + "px";
    bullet.style.bottom = "40px";
    game.appendChild(bullet);
    bullets.push(bullet);
}

function createEnemy() {
    let enemy = document.createElement("div");
    enemy.classList.add("enemy");
    enemy.style.left = Math.random() * (window.innerWidth - 40) + "px";
    game.appendChild(enemy);
    enemies.push(enemy);
}

function gameLoop() {

    bullets.forEach((bullet, bIndex) => {
        let bulletBottom = parseInt(bullet.style.bottom);
        bullet.style.bottom = bulletBottom + 10 + "px";

        if (bulletBottom > window.innerHeight) {
            bullet.remove();
            bullets.splice(bIndex, 1);
        }
    });

    enemies.forEach((enemy, eIndex) => {
        let enemyTop = enemy.offsetTop;
        enemy.style.top = enemyTop + 3 + "px";

        if (enemyTop > window.innerHeight) {
            enemy.remove();
            enemies.splice(eIndex, 1);
            lives--;
            livesDisplay.innerText = lives;

            if (lives <= 0) {
                alert("Game Over! Score: " + score);
                location.reload();
            }
        }

        bullets.forEach((bullet, bIndex) => {
            if (
                bullet.offsetTop < enemy.offsetTop + 40 &&
                bullet.offsetTop + 15 > enemy.offsetTop &&
                bullet.offsetLeft < enemy.offsetLeft + 40 &&
                bullet.offsetLeft + 5 > enemy.offsetLeft
            ) {
                enemy.remove();
                bullet.remove();
                enemies.splice(eIndex, 1);
                bullets.splice(bIndex, 1);
                score++;
                scoreDisplay.innerText = score;
            }
        });
    });

    requestAnimationFrame(gameLoop);
}

setInterval(createEnemy, 1000);
gameLoop();
</script>

</body>
</html>